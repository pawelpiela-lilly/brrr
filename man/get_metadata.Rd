% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_ops.R
\name{get_metadata}
\alias{get_metadata}
\title{Get metadata for a given dataset}
\usage{
get_metadata(
  data,
  split_axis_by_col,
  axis_labels_col,
  split_box_by_col,
  vline_col
)
}
\arguments{
\item{data}{A data frame containing the clinical trial data. Must contain
columns for value, lower, and upper bounds.}

\item{split_axis_by_col}{Character. The column name to split the data by on the x-axis.}

\item{axis_labels_col}{Character. The column name containing the axis labels.}

\item{split_box_by_col}{Character. The column name to split the data by in each box.}

\item{vline_col}{Character or NULL. The column name for vertical reference line values.}
}
\value{
A data frame containing the calculated metadata with columns:
\describe{
\item{ncats}{Number of unique categories}
\item{nsubcats}{Number of subcategories}
\item{minval}{Minimum value across value, lower, upper}
\item{maxval}{Maximum value across value, lower, upper}
\item{reversed}{Whether axis should be reversed}
\item{vertical_line}{Vertical line position if specified}
\item{logscale}{Whether to use log scale (if column exists)}
\item{logbase}{Log base to use (if column exists)}
}
}
\description{
This function calculates metadata for a given dataset, including the number
of unique categories, minimum and maximum values, whether the data is reversed,
and the number of subcategories. This metadata is used internally by plot_br().
}
\examples{
\dontrun{
data <- data.frame(
  endpoint = c("A", "A", "B", "B"),
  estimator = c("HR", "HR", "OR", "OR"),
  value = c(0.8, 1.2, 0.9, 1.1),
  lower = c(0.5, 0.9, 0.6, 0.8),
  upper = c(1.1, 1.5, 1.2, 1.4)
)

meta <- get_metadata(data, "estimator", "estimator", "endpoint", NULL)
}

}
